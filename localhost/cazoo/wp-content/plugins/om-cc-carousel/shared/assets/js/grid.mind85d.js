!function(e){"use strict";function t(e,t,i){var a=4,n=e.timer,r=e.masonry;n&&clearInterval(n),t&&("type2"===e.filterType&&(r.options.transitionDuration=void 0!==i?i:"0.4s"),r.layout()),n=setInterval(function(){r.options.transitionDuration=0,r.layout(),!--a&&n&&clearInterval(n)},500),e.timer=n}function i(i,a){var n,r,c,s=i.masonry,l=e(s.element).children(".om-cc-grid-item"),d=[],m=[];if("type2"===i.filterType){for(c=0;c<l.length;c++)n=l.eq(c),r=s.getItem(n.get(0)),"*"===a||e.inArray(a,n.data("filter").split(","))>=0?"none"===n.css("display")&&m.push(r):d.push(r);s.hide(d),s.reveal(m)}else{for(c=0;c<l.length;c++)n=l.eq(c),r=s.getItem(n.get(0)),"*"===a||e.inArray(a,n.data("filter").split(","))>=0?"none"===n.css("display")&&m.push(r):d.push(r);var u=e(e.map(d,function(e){return e.element})),g=e(e.map(m,function(e){return e.element}));u.addClass("om-cc-grid-item-hidden").removeClass("om-cc-grid-item-visible"),s.hide(d),s.reveal(m),g.addClass("om-cc-grid-item-visible").removeClass("om-cc-grid-item-hidden")}for(t(i,!0),c=1;c<6;c++)setTimeout(function(){o.trigger("checkAll.rimg.reactiveImages.data-api")},100*c)}function a(t){var a=e(this),n=this.value,r=t.data,o=r.$select;a.parent().addClass("om-cc-active").siblings().removeClass("om-cc-active"),o.val()!==n&&o.val(n),i(r.data,n)}function n(e){e.data.$radios.filter('[value="'+this.value+'"]').prop("checked",!0).trigger("change")}var r=e(window),o=e(window.document);e(function(){e("[data-om-cc-grid]").each(function(){var i,o,c=e(this),s=c.prev(".om-cc-grid-filters"),l=s.find('input[type="radio"]'),d=s.find("select"),m=function(){o&&(clearTimeout(o),o=!1,c.masonry({columnWidth:".om-cc-grid-sizer",itemSelector:".om-cc-grid-item",percentPosition:!0,transitionDuration:"0.01s"}),i=c.data(),t(i),l.on("change",{data:i,$select:d},a),d.on("change",{$radios:l},n),r.on("resize",function(){t(i,!0,0)}))};o=setTimeout(m,1e4),c.imagesLoaded(m)})})}(jQuery);